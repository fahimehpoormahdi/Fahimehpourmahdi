
``` mermaid
stateDiagram-v2
    [*] --> جستجوی_هتل : شروع فرآیند توسط مهمان
    
    جستجوی_هتل --> انتخاب_اتاق : هتل و اتاق مورد نظر یافت شد
    
    انتخاب_اتاق --> رزرو_در_انتظار_تایید : اطلاعات رزرو وارد شد
    
    رزرو_در_انتظار_تایید --> تایید_رزرو_توسط_مدیر : تأیید مدیر هتل (در صورت نیاز)
    رزرو_در_انتظار_تایید --> لغو_توسط_مهمان : انصراف مهمان
    
    تایید_رزرو_توسط_مدیر --> انتظار_پرداخت : رزرو نهایی شد
    تایید_رزرو_توسط_مدیر --> لغو_توسط_مدیر : رد درخواست توسط مدیر
    
    انتظار_پرداخت --> پرداخت_موفق : پرداخت آنلاین انجام شد
    انتظار_پرداخت --> لغو_پس_از_تایید : انقضای زمان پرداخت
    
    پرداخت_موفق --> تایید_نهایی_رزرو : پرداخت قطعی شد
    
    تایید_نهایی_رزرو --> رزرو_فعال : زمان ورود (Check-in) فرا رسید
    
    رزرو_فعال --> مهمان_در_هتل : مهمان چک-این کرد
    مهمان_در_هتل --> پایان_اقامت : مهمان چک-اوت کرد
    
    پایان_اقامت --> ثبت_نظر_و_امتیاز : فرصت دادن برای امتیازدهی
    
    ثبت_نظر_و_امتیاز --> [*] : فرآیند کامل شد
    
    لغو_توسط_مهمان --> [*] : رزرو لغو شد
    لغو_توسط_مدیر --> [*] : رزرو رد شد
    لغو_پس_از_تایید --> [*] : رزرو لغو شد (انقضا)

    
    note right of جستجوی_هتل
      مهمان تاریخ‌ها و فیلترها را وارد می‌کند
    end note
    
    note right of رزرو_در_انتظار_تایید
      سیستم منتظر تأیید مدیر هتل است
    end note
    
    note right of پرداخت_موفق
      وضعیت پرداخت از درگاه بانکی دریافت شد
    end note
    
    note right of مهمان_در_هتل
      مرحله اقامت در هتل
    end note

```
